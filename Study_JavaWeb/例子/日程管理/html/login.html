<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<style>
  #usernameMsg,#userPwdMsg{
    color: red;
  }
</style>
<script>
  function checkForm() {
    var username = document.getElementById("usernameInput").value;
    var password = document.getElementById("password").value;
    if (username === "") {
      alert("用户名不能为空");
      return false;
    }
    if (password === "") {
      alert("密码不能为空");
      return false;
    }
    return true;
  }

  function checkUsername() {
    var usernameReg= /^[a-zA-Z0-9]{5,10}$/  //从头到尾都是字母或数字，长度5-10
    var value=document.getElementById("usernameInput").value;
    if(!usernameReg.test(value)){
      //格式有误时
      document.getElementById("usernameMsg").innerHTML="用户名格式错误";
      return false;
    }
    //格式正确时返回true 并在页面提示OK
    document.getElementById("usernameMsg").innerHTML="OK";
    return true;
  }

  //检查密码
  function checkPwdname() {
    var pwdReg = /^[0-9]{6}$/  //密码必须是6位数字
    var value = document.getElementById("password").value;
    if (!pwdReg.test(value)) {
      //格式有误时
      document.getElementById("userPwdMsg").innerHTML = "密码必须是6位数字";
      return false;
    }
    //格式正确时返回true 并在页面提示OK
    document.getElementById("userPwdMsg").innerHTML = "OK";
    return true;
  }

  //表单在提交时,校验用户名和密码格式,格式OK才会提交
  function checkForm(){
    var flag1 =checkUsername()
    var flag2 =checkPwdname()
    return flag1&&flag2
  }

</script>
<body>
  <h1 class="ht">欢迎使用日程管理系统</h1>
  <h3 class="ht">请登录</h3>
  <form method="post" action="/user/login" onsubmit="return checkForm()">
    <table class="tab" cellspacing="0px">
      <tr class="ltr">
        <td>用户名：</td>
        <td>
          <input class="ipt" type="text" id="usernameInput" onblur="checkUsername()">
          <span id="usernameMsg"></span>
        </td>
      </tr>
      <tr class="ltr">
        <td>密码：</td>
        <td>
          <input type="password" id="password" onblur="checkPwdname()">
          <span id="userPwdMsg"></span>
        </td>
      </tr>
      <tr class="ltr">
        <td colspan="2" class="buttonContainer">
            <input class="btn1" type="submit" value="登录">
            <input class="btn1" type="reset" value="重置">
          <button class="btn1"><a href="">去注册</a></button>
        </td>
      </tr>
    </table>
  </form>
</body>
</html>
